syntax = "proto3";

message CreateParams {
    message Position {
        int32 role = 1;
        repeated int32 privatePrice = 2;
    }
    int32 groupSize = 1;
    int32 buyerPriceStart = 2;
    int32 buyerPriceEnd = 3;
    int32 sellerPriceStart = 4;
    int32 sellerPriceEnd = 5;
    int32 InitMoney = 6;
    int32 waitingSeconds = 7;
    repeated Position positions = 8;
    string nextPhaseKey = 9;
}

message MoveParams {
    int32 price = 1;
    int32 num = 2;
}

message PushParams {
    int32 roundIndex = 1;
    int32 newRoundTimer = 2;
    int32 matchTimer = 3;
    int32 matchNum = 4;
}

message GameState {
    message Group {
        message Round {
            repeated int32 playerStatus = 1;
        }
        message Result {
            int32 buyerPosition = 1;
            int32 sellerPosition = 2;
        }
        int32 roundIndex = 1;
        repeated Round rounds = 2;
        int32 playerNum = 3;
        repeated Result results = 4;
        bool isMulti = 5;
    }
    repeated Group groups = 1;
}

message PlayerState {
    message Multi {
        float privateValue = 1;
        float price = 2;
        int32 bidNum = 3;
        float profit = 4;
        float startingPrice = 5;
    }
    message Single {
        message Round {
            float privateValue = 1;
            float price = 2;
            int32 bidNum = 3;
            float profit = 4;
            float startingPrice = 5;
        }
        int32 groupIndex = 1;
        repeated Round rounds = 2;
    }
    int32 role = 1;
    Multi multi = 2;
    Single single = 3;
    int32 playerStatus = 4;
}

!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/bespoke/ShanghaiNY/static/",n(n.s=12)}([function(e,t){e.exports=React},function(e,t){e.exports=ElfComponent},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14);t.namespace="ShanghaiNY",function(e){e[e.Seat=0]="Seat",e[e.Test=1]="Test",e[e.Main=2]="Main",e[e.Survey=3]="Survey",e[e.End=4]="End"}(t.Stage||(t.Stage={})),function(e){e[e.T1=1]="T1",e[e.T2=2]="T2"}(t.GameType||(t.GameType={})),function(e){e[e.Wait=-1]="Wait",e[e.One=1]="One",e[e.Two=2]="Two"}(t.Choice||(t.Choice={})),function(e){e[e.V1=1]="V1",e[e.V2=2]="V2",e[e.V3=3]="V3"}(t.Version||(t.Version={})),function(e){e[e.Choose=0]="Choose",e[e.Wait4Result=1]="Wait4Result",e[e.Result=2]="Result"}(t.MainStageIndex||(t.MainStageIndex={})),function(e){e[e.Interface=-1]="Interface",e[e.Next=-2]="Next",e[e.Wait4Others=-3]="Wait4Others"}(t.TestStageIndex||(t.TestStageIndex={})),function(e){e.initPosition="initPosition",e.inputSeatNumber="inputSeatNumber",e.answerTest="answerTest",e.answerMain="answerMain",e.advanceRoundIndex="advanceRoundIndex",e.answerSurvey="answerSurvey",e.toMain="toMain",e.startTest="startTest",e.sendBackPlayer="sendBackPlayer"}(t.MoveType||(t.MoveType={})),function(e){e.result="result"}(t.SheetType||(t.SheetType={})),t.PushType||(t.PushType={}),function(e){e.exportXls="/exportXls/:gameId:",e.exportXlsPlaying="/exportXlsPlaying/:gameId",e.getUserMobile="/getUserMobile/:gameId"}(t.FetchRoute||(t.FetchRoute={})),t.Test1=[{desc:[{text:"假设其他三个组员选择“2, 2, 2”"},{text:"",br:10},{text:"如果你选择“1”"}],questions:[{title:[{text:"你在这一轮的收益为:"}],options:function(e,t){return[{label:(e.p11-t).toFixed(2),value:"a"},{label:(e.p21-t).toFixed(2),value:"b"},{label:e.p22.toFixed(2),value:"c"}]},answer:"a"}]},{desc:[{text:"假设其他三个组员选择“2, 2, 2”"},{text:"",br:10},{text:"如果你选择“2”"}],questions:[{title:[{text:"你在这一轮的收益为:"}],options:function(e,t){return[{label:(e.p11-t).toFixed(2),value:"a"},{label:(e.p21-t).toFixed(2),value:"b"},{label:e.p22.toFixed(2),value:"c"}]},answer:"c"}]},{desc:[{text:"假设其他三个组员选择“1, 1, 2”"},{text:"",br:10},{text:"如果你选择“2”"}],questions:[{title:[{text:"你在这一轮的收益为:"}],options:function(e,t){return[{label:(e.p11-t).toFixed(2),value:"a"},{label:(e.p21-t).toFixed(2),value:"b"},{label:e.p22.toFixed(2),value:"c"}]},answer:"b"}]}],t.Test2=[{desc:[{text:"如果你在第一阶段选择等待。"},{text:"",br:10},{text:"并且第一阶段的结果为：有人选1。",color:!0}],questions:[{title:[{text:"如果你选择"},{text:"“第一阶段有人选1则在第二阶段选1；第一阶段没有人选1则在第二阶段选1”（无论第一阶段有没有人选1，在第二阶段都选1）",color:!0},{text:"",br:0},{text:"你在这一轮的收益为"}],options:function(e,t){return[{label:(e.p11-t).toFixed(2),value:"a"},{label:e.p21.toFixed(2),value:"b"},{label:e.p22.toFixed(2),value:"c"}]},answer:"a"},{title:[{text:"如果你选择"},{text:"“第一阶段有人选1则在第二阶段选1；第一阶段没有人选1则在第二阶段选2”",color:!0},{text:"",br:0},{text:"你在这一轮的收益为"}],options:function(e,t){return[{label:(e.p11-t).toFixed(2),value:"a"},{label:e.p21.toFixed(2),value:"b"},{label:e.p22.toFixed(2),value:"c"}]},answer:"a"},{title:[{text:"如果你选择"},{text:"“第一阶段有人选1则在第二阶段选2；第一阶段没有人选1则在第二阶段选2”（无论第一阶段有没有人选1，在第二阶段都选2）",color:!0},{text:"",br:0},{text:"你在这一轮的收益为"}],options:function(e,t){return[{label:e.p11.toFixed(2),value:"a"},{label:e.p21.toFixed(2),value:"b"},{label:e.p22.toFixed(2),value:"c"}]},answer:"b"}]},{desc:[{text:"假设你在考虑以下两个选择方案"},{text:"",br:10},{text:"选择方案(A)"},{text:'"在第一阶段选1"',color:!0},{text:"",br:0},{text:"选择方案(B)"},{text:'"等待，第一阶段有人选1则在第二阶段选1；第一阶段没有人选1则在第二阶段选1"（无论第一阶段有没有人选1，在第二阶段都选1）',color:!0}],questions:[{title:[{text:"如果其他三个组员都选择"},{text:'"在第一阶段选1"',color:!0},{text:"，以下关于你自己的收益的说法正确的是："}],options:[{label:"如果你选方案(A)，你获得收益更大",value:"a"},{label:"如果你选方案(B)，你获得收益更大",value:"b"},{label:"你选方案(A)还是(B)能获得的收益一样大",value:"c"}],answer:function(e){return e>0?"a":"c"}},{title:[{text:"如果其他三个组员都选择"},{text:'"等待，第一阶段有人选1则在第二阶段选1；第一阶段无人选1则在第二阶段选2"',color:!0},{text:"，以下关于你自己的收益的说法正确的是："}],options:[{label:"如果你选方案(A)，你获得收益更大",value:"a"},{label:"如果你选方案(B)，你获得收益更大",value:"b"},{label:"你选方案(A)还是(B)能获得的收益一样大",value:"c"}],answer:function(e){return e>0?"a":"c"}},{title:[{text:"如果你"},{text:"不确定其他组员会怎么选",color:!0},{text:"，以下关于你自己的收益的说法正确的是："}],options:[{label:"如果你选方案(A)，你获得收益总是更大",value:"a"},{label:"如果你选方案(B)，你获得收益总是更大",value:"b"},{label:"不管其他组员怎么选，你选方案(A)还是(B)能获得的收益总是一样大",value:"c"},{label:"方案(A)和方案(B)的收益哪个大，取决于其他组员怎么选",value:"d"}],answer:function(e){return e>0?"a":"c"}}]},{desc:[{text:"假设你在考虑以下两个选择方案"},{text:"",br:10},{text:"选择方案(A)"},{text:'"在第一阶段选1"',color:!0},{text:"",br:0},{text:"选择方案(B)"},{text:'"等待，第一阶段有人选1则在第二阶段选1；第一阶段没有人选1则在第二阶段选1"（无论第一阶段有没有人选1，在第二阶段都选1）',color:!0}],questions:[{title:[{text:"如果其他三个组员都选择"},{text:'"在第一阶段选1"',color:!0},{text:"，以下关于其他组员收益的说法正确的是："}],options:[{label:"如果你选方案(A)，其他组员获得收益更小",value:"a"},{label:"如果你选方案(B)，其他组员获得收益更小",value:"b"},{label:"不管你选方案(A)还是(B)，其他组员获得的收益一样大",value:"c"}],answer:"c"},{title:[{text:"如果其他三个组员都选择"},{text:'"等待，第一阶段有人选1则在第二阶段选1；第一阶段无人选1则在第二阶段选2"',color:!0},{text:"，以下关于其他组员收益的说法正确的是："}],options:[{label:"如果你选方案(A)，其他组员获得收益更小",value:"a"},{label:"如果你选方案(B)，其他组员获得收益更小",value:"b"},{label:"不管你选方案(A)还是(B)，其他组员获得的收益一样大",value:"c"}],answer:"b"}]},{desc:[{text:"假设其他三个组员都选择"},{text:"“在第一阶段选1”",color:!0},{text:"",br:10},{text:"如果你选择"},{text:"“在第一阶段等待；如果第一阶段有人选1则在第二阶段选1；第一阶段没有人选1则在第二阶段选2”",color:!0}],questions:[{title:[{text:"第一阶段的结果是："}],options:["第一阶段有人选1","第一阶段没有人选1"],answer:"第一阶段有人选1"},{title:[{text:"四个组员的最终选择为："}],options:["1,1,1,1","1,2,2,2","2,2,2,2"],answer:"1,1,1,1"},{title:[{text:"你在这一轮的收益为:"}],options:function(e,t){return[{label:(e.p11-t).toFixed(2),value:"a"},{label:e.p21.toFixed(2),value:"b"},{label:e.p22.toFixed(2),value:"c"}]},answer:"a"}]},{desc:[{text:"假设其他三个组员都选择"},{text:"“在第一阶段等待；如果第一阶段有人选1则在第二阶段选1；第一阶段没有人选1则在第二阶段选2”",color:!0},{text:"",br:10},{text:"如果你选择"},{text:"“在第一阶段等待；如果第一阶段有人选1则在第二阶段选1；第一阶段没有人选1则在第二阶段选2”",color:!0}],questions:[{title:[{text:"第一阶段的结果是："}],options:["第一阶段有人选1","第一阶段没有人选1"],answer:"第一阶段没有人选1"},{title:[{text:"四个组员的最终选择为："}],options:["1,1,1,1","1,2,2,2","2,2,2,2"],answer:"2,2,2,2"},{title:[{text:"你在这一轮的收益为:"}],options:function(e,t){return[{label:(e.p11-t).toFixed(2),value:"a"},{label:e.p21.toFixed(2),value:"b"},{label:e.p22.toFixed(2),value:"c"}]},answer:"c"}]}],t.Survey=[{title:"你的专业",options:["人文社科(经济类除外)","理工科","经济/商科","医学","艺术","其他"]},{title:"你的年龄"},{title:"你的年级",options:["大一","大二","大三","大四","硕士研究生","博士研究生"]},{title:"你现在的家庭住址所在省份",options:r.default.map(function(e){return e.pname})},{title:"你的性别",options:["男","女"]}]},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(13);function s(e,t){window.BespokeServer&&window.BespokeServer.registerOnBespoke(t),l.registerOnElf(e,o({localeNames:[e]},t))}!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(l.Template.Create);e.Create=t;var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(i.Component);e.Info=n;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(i.Component);e.Play=r;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(i.Component);e.Play4Owner=o;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(i.Component);e.Result=s;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(i.Component);e.Result4Owner=c}(t.Core||(t.Core={})),t.registerOnBespoke=s,t.registerOnFramework=s},function(e,t,n){var r=n(19);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(16);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=(i=r,l=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(s," */")),o=r.sources.map(function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")});return[n].concat(o).concat([a]).join("\n")}var i,l,s;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var o=this[a][0];null!=o&&(r[o]=!0)}for(var i=0;i<e.length;i++){var l=e[i];null!=l[0]&&r[l[0]]||(n&&!l[2]?l[2]=n:n&&(l[2]="(".concat(l[2],") and (").concat(n,")")),t.push(l))}},t}},function(e,t,n){var r,a,o={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=r.apply(this,arguments)),a}),l=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),s=null,c=0,u=[],p=n(17);function m(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=o[r.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](r.parts[i]);for(;i<r.parts.length;i++)a.parts.push(b(r.parts[i],t))}else{var l=[];for(i=0;i<r.parts.length;i++)l.push(b(r.parts[i],t));o[r.id]={id:r.id,refs:1,parts:l}}}}function f(e,t){for(var n=[],r={},a=0;a<e.length;a++){var o=e[a],i=t.base?o[0]+t.base:o[0],l={css:o[1],media:o[2],sourceMap:o[3]};r[i]?r[i].parts.push(l):n.push(r[i]={id:i,parts:[l]})}return n}function d(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=l(e.insertAt.before,n);n.insertBefore(t,a)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function y(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return v(t,e.attrs),d(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,r,a,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var i=c++;n=s||(s=y(t)),r=_.bind(null,n,i,!1),a=_.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),d(e,t),t}(t),r=function(e,t,n){var r=n.css,a=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||o)&&(r=p(r));a&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var i=new Blob([r],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(i),l&&URL.revokeObjectURL(l)}.bind(null,n,t),a=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),a=function(){h(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return m(n,t),function(e){for(var r=[],a=0;a<n.length;a++){var i=n[a];(l=o[i.id]).refs--,r.push(l)}e&&m(f(e,t),t);for(a=0;a<r.length;a++){var l;if(0===(l=r[a]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete o[l.id]}}}};var g,x=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function _(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,a);else{var o=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(4),o=n(1);t.default=function(e){var t=e.data,n=o.Lang.extractLang({lowest:["组内最低的选择","Lowest choice in the group"],choose1:["选1","Choose 1"],choose2:["选2","Choose 2"],chooseWait:["等待","Wait"],yourChoice:["你的选择","Your choice"],noShow:["不可能出现","Will not happen"]});return r.createElement("table",{className:a.display},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null),r.createElement("td",null),r.createElement("td",{colSpan:2},n.lowest)),r.createElement("tr",null,r.createElement("td",null),r.createElement("td",null),r.createElement("td",null,"1"),r.createElement("td",null,"2")),r.createElement("tr",null,r.createElement("td",{rowSpan:2},n.yourChoice),r.createElement("td",null,n.choose1),r.createElement("td",{className:a.data},t?t.p11.toFixed(2):"π11"),r.createElement("td",null,n.noShow)),r.createElement("tr",null,r.createElement("td",null,n.choose2),r.createElement("td",{className:a.data},t?t.p21.toFixed(2):"π21"),r.createElement("td",{className:a.data},t?t.p22.toFixed(2):"π22"))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(4),o=n(2),i=n(1);t.default=function(e){var t=e.c1,n=e.onChoose,l=e.gameType,s=e.version,c=e.d,u=void 0===c?0:c,p=i.Lang.extractLang({choose1:["选1","Choose 1"],choose2:["选2","Choose 2"],chooseWait:["等待","Wait"],firstChoiceT1:["你的选择","Your choice is"],firstChoiceT2:["第一阶段: 你的选择","In the first action, your choice is"],feeLeft:["(若在第二阶段选1，需要付出延迟选择费","(If you choose 1 in the next action, you need to pay $ "],feeRight:["分)",")"]}),m=l===o.GameType.T1?[{label:p.choose1,value:o.Choice.One},{label:p.choose2,value:o.Choice.Two}]:s===o.Version.V2?[{label:p.choose1,value:o.Choice.One},{label:p.choose2,value:o.Choice.Two},{label:p.chooseWait,value:o.Choice.Wait}]:[{label:p.choose1,value:o.Choice.One},{label:l===o.GameType.T2&&u>0?""+p.chooseWait+p.feeLeft+u+p.feeRight:p.chooseWait,value:o.Choice.Wait}];return r.createElement("div",{className:a.choice},r.createElement("p",null,l===o.GameType.T1?p.firstChoiceT1:p.firstChoiceT2),r.createElement(i.Radio,{value:t,options:m,onChange:function(e){return n(e)}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=n(4),o=n(2),i=n(1);t.default=function(e){var t=e.c1,n=e.c2,l=e.onChoose,s=e.gameType,c=e.version,u=e.d,p=void 0===u?0:u,m=i.Lang.extractLang({choose1:["选1","Choose 1"],choose2:["选2","Choose 2"],chooseWait:["等待","Wait"],secondAction:["第二阶段","Second action"],yourChoice:["你的选择","your choice is"],feeLeft:["(延迟选择费","(extra fee $ "],feeRight:["分)",")"],noChoice:["你不需要选择","You do not need to chooose"],if1:["如果第一阶段有人选1","If someone has chosen 1 in the first action,"],ifNot1:["如果第一阶段没有人选1","If no one has chosen 1 in the first action,"],if1A:["如果第一阶段有人选1, 且抽中表A","If someone has chosen 1 in the first action and this is table A,"],ifNot1A:["如果不是“第一阶段有人选1, 且抽中表A”","If no one has chosen 1 in the first action or this is not table A,"],ok:["确定","OK"]});if(!t||s===o.GameType.T1)return null;var f=[{label:p>0?""+m.choose1+m.feeLeft+p+m.feeRight:m.choose1,value:o.Choice.One},{label:m.choose2,value:o.Choice.Two}];return r.createElement("div",{className:a.choice},r.createElement("p",null,m.secondAction,":"),r.createElement("div",{className:t===o.Choice.Wait?"":a.disabled},r.createElement("p",null,c===o.Version.V3?m.if1A:m.if1," ",m.yourChoice,":"),r.createElement(i.Radio,{value:n[0],options:f,onChange:function(e){return l([e,n[1]])}})),r.createElement("div",{className:t===o.Choice.Wait?a.hidden:""},r.createElement("p",null,m.noChoice),r.createElement(i.Radio,{value:n[0],options:[{label:m.ok,value:0}],onChange:function(e){return l([e,n[1]])}})),r.createElement("div",{className:t===o.Choice.Wait?"":a.disabled},r.createElement("p",null,c===o.Version.V3?m.ifNot1A:m.ifNot1," ",m.yourChoice,":"),r.createElement(i.Radio,{value:n[1],options:f,onChange:function(e){return l([n[0],e])}})),r.createElement("div",{className:t===o.Choice.Wait?a.hidden:""},r.createElement("p",null,m.noChoice),r.createElement(i.Radio,{value:n[1],options:[{label:m.ok,value:0}],onChange:function(e){return l([n[0],e])}})))}},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(5),l=n(3),s=n(1),c=n(2),u=function(e){function t(){var t,n=null!==e&&e.apply(this,arguments)||this;return n.lang=s.Lang.extractLang(((t={group:["组","Group"],seatNumber:["座位号","Seat Number"],stage:["阶段","Stage"],round:["轮次","Round"],startTest:["开始理解力测试","Start Comprehension Test"]})[c.Stage[c.Stage.Seat]]=["输入座位号","Input Seat Number"],t[c.Stage[c.Stage.Test]]=["理解测试","Comprehension Test"],t[c.Stage[c.Stage.Main]]=["主实验","Main Game"],t[c.Stage[c.Stage.Survey]]=["问卷","Survey"],t[c.Stage[c.Stage.End]]=["结束","End"],t[c.SheetType[c.SheetType.result]]=["导出结果","Export Result"],t)),n.state={},n}return a(t,e),t.prototype.render=function(){var e=this.lang,t=this.props,n=t.game,r=t.playerStates,a=t.frameEmitter;return o.createElement("section",{className:i.play4Owner},o.createElement("a",{className:i.exportBtn,href:s.Request.buildUrl(c.namespace,c.FetchRoute.exportXlsPlaying,{gameId:n.id},{sheetType:c.SheetType.result})},e[c.SheetType[c.SheetType.result]]),o.createElement("table",{className:i.resultTable},o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",null,e.group),o.createElement("td",null,e.seatNumber),o.createElement("td",null,e.stage),o.createElement("td",null,e.round)),Object.values(r).sort(function(e,t){var n=e.seatNumber,r=void 0===n?0:n,a=t.seatNumber;return+r-+(void 0===a?0:a)}).map(function(t,n){return o.createElement("tr",{key:n},o.createElement("td",null,void 0!==t.groupIndex?t.groupIndex+1:"-"),o.createElement("td",null,void 0!==t.seatNumber?t.seatNumber:"-"),o.createElement("td",null,e[c.Stage[t.stage]]||"-"),o.createElement("td",null,t.stage===c.Stage.Main?t.roundIndex+1:"-"))}))),o.createElement(s.Button,{label:e.startTest,onClick:function(){return a.emit(c.MoveType.startTest)}}))},t}(l.Core.Play4Owner);t.Play4Owner=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),a=n(2),o=n(15),i=n(18),l=n(23),s=n(24),c=n(11);r.registerOnFramework(a.namespace,{localeNames:["上海纽约大学实验","Shanghai New York"],Create:o.Create,Play:i.Play,Result:l.Result,Result4Owner:s.Result4Owner,Play4Owner:c.Play4Owner})},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(o.Component);e.Create=t}(t.Template||(t.Template={})),t.registerOnElf=function(e,t){window.ElfLinker&&window.ElfLinker.registerOnElf(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{pid:"110000",pname:"北京市\r"},{pid:"120000",pname:"天津市\r"},{pid:"130000",pname:"河北省\r"},{pid:"140000",pname:"山西省\r"},{pid:"150000",pname:"内蒙古自治区\r"},{pid:"210000",pname:"辽宁省\r"},{pid:"220000",pname:"吉林省\r"},{pid:"230000",pname:"黑龙江省\r"},{pid:"310000",pname:"上海市\r"},{pid:"320000",pname:"江苏省\r"},{pid:"330000",pname:"浙江省\r"},{pid:"340000",pname:"安徽省\r"},{pid:"350000",pname:"福建省\r"},{pid:"360000",pname:"江西省\r"},{pid:"370000",pname:"山东省\r"},{pid:"410000",pname:"河南省\r"},{pid:"420000",pname:"湖北省\r"},{pid:"430000",pname:"湖南省\r"},{pid:"440000",pname:"广东省\r"},{pid:"450000",pname:"广西壮族自治区\r"},{pid:"460000",pname:"海南省\r"},{pid:"500000",pname:"重庆市\r"},{pid:"510000",pname:"四川省\r"},{pid:"520000",pname:"贵州省\r"},{pid:"530000",pname:"云南省\r"},{pid:"540000",pname:"西藏自治区\r"},{pid:"610000",pname:"陕西省\r"},{pid:"620000",pname:"甘肃省\r"},{pid:"630000",pname:"青海省\r"},{pid:"640000",pname:"宁夏回族自治区\r"},{pid:"650000",pname:"新疆维吾尔自治区\r"},{pid:"710000",pname:"台湾省\r"},{pid:"810000",pname:"香港特别行政区\r"},{pid:"820000",pname:"澳门特别行政区\r"},{pid:"100000",pname:"其它地区\r"}]},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(5),s=n(1),c=n(3),u=n(2),p=[{label:"T1",value:u.GameType.T1},{label:"T2",value:u.GameType.T2}],m=[{label:"V1",value:u.Version.V1},{label:"V2",value:u.Version.V2},{label:"V3",value:u.Version.V3}],f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lang=s.Lang.extractLang({round:["轮次","Round"],playersPerGroup:["每组人数","Players per Group"],gameType:["类型","Game Type"],version:["版本","Version"],params:["参数","Parameters"],participationFee:["参与费","Participation Fee"]}),t}return a(t,e),t.prototype.componentDidMount=function(){(0,this.props.setParams)({playersPerGroup:2,rounds:2,gameType:u.GameType.T1,version:u.Version.V1,participationFee:0,a:0,b:0,c:0,d:0,eH:0,eL:0,s:0,p:0,b0:0,b1:0})},t.prototype.render=function(){var e=this.lang,t=this.props,n=t.params,r=t.setParams;return i.createElement("section",{className:l.create},i.createElement("ul",{className:l.fields},i.createElement("li",null,i.createElement(s.Label,{label:e.playersPerGroup}),i.createElement(s.RangeInput,{value:n.playersPerGroup,min:2,max:12,step:2,onChange:function(e){var t=e.target.value;return r({playersPerGroup:Number(t)})}})),i.createElement("li",null,i.createElement(s.Label,{label:e.round}),i.createElement(s.RangeInput,{value:n.rounds,min:1,max:30,step:1,onChange:function(e){var t=e.target.value;return r({rounds:Number(t)})}})),i.createElement("li",null,i.createElement(s.Label,{label:e.participationFee}),i.createElement(s.Input,o({},{type:"number",value:n.participationFee,onChange:function(e){var t=e.target.value;return r({participationFee:Number(t)})}}))),i.createElement("li",null,i.createElement(s.Label,{label:e.gameType}),i.createElement(s.Select,{value:n.gameType,options:p,onChange:function(e){return r({gameType:+e})}})),i.createElement("li",null,i.createElement(s.Label,{label:e.version}),i.createElement(s.Select,{value:n.version,options:m,onChange:function(e){return r({version:+e})}}))),i.createElement("p",{className:l.params},e.params),i.createElement("ul",{className:l.fields},["a","b","c","d","eH","eL","s","p","b0","b1"].map(function(e){return n.gameType===u.GameType.T1&&"d"===e?null:n.version===u.Version.V3&&"b"===e?null:n.version!==u.Version.V3&&["p","b0","b1"].includes(e)?null:i.createElement("li",{key:e},i.createElement(s.Label,{label:e}),i.createElement(s.Input,o({},{type:"number",value:n[e],onChange:function(t){var n,a=t.target.value;return r(((n={})[e]=Number(a),n))}})))})))},t}(c.Core.Create);t.Create=f},function(e,t,n){(t=e.exports=n(6)(!1)).push([e.i,"/*************** variables ******************/\n/*************** keyframe ******************/\n@keyframes easyIn_2vDc {\n  from {\n    opacity: 0;\n    transform: translateY(1rem); }\n  to {\n    opacity: 1;\n    transform: translateY(0); } }\n\n/*************** mixin ******************/\n/*************** function ******************/\n.create_1jvo {\n  margin-top: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center; }\n  .create_1jvo .fields_B5ka > li {\n    display: flex;\n    margin-bottom: .5rem; }\n  .create_1jvo .params_1lul {\n    margin-top: 1rem; }\n\n.play4Owner_36am {\n  display: flex;\n  flex-direction: column;\n  align-items: center; }\n  .play4Owner_36am .resultTable_rwXE {\n    border-collapse: separate;\n    width: 100%;\n    max-width: 500px;\n    margin: 1rem 0; }\n    .play4Owner_36am .resultTable_rwXE td {\n      text-align: center; }\n  .play4Owner_36am .exportBtn_3lvS {\n    flex: 100%;\n    margin: .5rem;\n    color: #4285f4;\n    text-align: center;\n    transition: all 0.2s ease-in-out;\n    margin-top: 20px; }\n    .play4Owner_36am .exportBtn_3lvS:hover {\n      text-decoration: underline; }\n\n.result_1M-D {\n  text-align: center; }\n  .result_1M-D p {\n    margin: 20px 0; }\n\n.result4Owner_m9W0 {\n  margin: 1rem 2rem; }\n  .result4Owner_m9W0 .timeLine_z9D2 {\n    margin: 1rem;\n    display: flex;\n    justify-content: center;\n    align-items: center; }\n    .result4Owner_m9W0 .timeLine_z9D2 label {\n      font-size: 0.8rem;\n      color: rgba(49, 70, 89, 0.8); }\n    .result4Owner_m9W0 .timeLine_z9D2 input {\n      margin: .5rem;\n      min-width: 24rem; }\n    .result4Owner_m9W0 .timeLine_z9D2 .paramsLabel_2ExS {\n      display: inline-block;\n      height: 1rem;\n      font-size: 0.8rem;\n      color: rgba(49, 70, 89, 0.8); }\n  .result4Owner_m9W0 .resultWrapper_1oRl {\n    display: flex; }\n    .result4Owner_m9W0 .resultWrapper_1oRl .resultTable_rwXE tr td {\n      min-width: 5rem;\n      padding: .5rem;\n      text-align: center; }\n    .result4Owner_m9W0 .resultWrapper_1oRl .resultTable_rwXE tr:nth-child(even) {\n      background: rgba(49, 70, 89, 0.05); }\n    .result4Owner_m9W0 .resultWrapper_1oRl .exportWrapper_1t-9 {\n      margin-left: 2rem;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      border-left: 1px solid rgba(49, 70, 89, 0.1); }\n      .result4Owner_m9W0 .resultWrapper_1oRl .exportWrapper_1t-9 label {\n        margin: .5rem;\n        font-size: 0.8rem;\n        color: rgba(49, 70, 89, 0.8); }\n      .result4Owner_m9W0 .resultWrapper_1oRl .exportWrapper_1t-9 a {\n        display: inline-block;\n        margin: .5rem;\n        font-size: 1.25rem;\n        color: #4285f4;\n        text-align: center;\n        transition: all 0.2s ease-in-out; }\n        .result4Owner_m9W0 .resultWrapper_1oRl .exportWrapper_1t-9 a:hover {\n          text-decoration: underline; }\n",""]),t.locals={create:"create_1jvo",fields:"fields_B5ka",params:"params_1lul",play4Owner:"play4Owner_36am",resultTable:"resultTable_rwXE",exportBtn:"exportBtn_3lvS",result:"result_1M-D",result4Owner:"result4Owner_m9W0",timeLine:"timeLine_z9D2",paramsLabel:"paramsLabel_2ExS",resultWrapper:"resultWrapper_1oRl",exportWrapper:"exportWrapper_1t-9",easyIn:"easyIn_2vDc"}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var a,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(a=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")})}},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),l=n(4),s=n(1),c=n(3),u=n(2),p=n(20),m=n(21),f=n(22),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={seatNumber:""},t.lang=s.Lang.extractLang({confirm:["确定","Confirm"],inputSeatNumberPls:["请输入座位号","Input your seat number please"],submit:["提交","Submit"],invalidSeatNumber:["座位号有误或已被占用","Your seat number is invalid or has been occupied"],wait4StartMainTest:["等待老师开放实验","Wait for teacher to start the experiment"],end:["实验结束","Game Over"],totalPoint:["你在本场试验共获得积分 ","Total points you have got in this game are "],totalProfit:["你的最终收益为 ","Total profit you have earned in this game is "]}),t.renderEndStage=function(){var e=t,n=e.lang,r=e.props,a=r.game.params,o=a.s,s=a.participationFee,c=r.playerState.finalProfit;return i.createElement("section",{className:l.endStage},i.createElement("p",null,n.totalPoint,isNaN(c)?"-":c.toFixed(2)),i.createElement("p",null,n.totalProfit,isNaN(c*o+s)?"-":(c*o+s).toFixed(2)))},t.renderSeatNumberStage=function(){var e=t,n=e.lang,r=e.props,a=r.frameEmitter,c=r.playerState,p=e.state.seatNumber;return c.seatNumber?i.createElement(s.MaskLoading,{label:n.wait4StartMainTest}):i.createElement("section",{className:l.seatStage},i.createElement("span",null,c.seatNumber),i.createElement(s.Label,{label:n.inputSeatNumberPls}),i.createElement(s.Input,o({},{value:p||"",onChange:function(e){var n=e.target.value;return t.setState({seatNumber:n})}})),i.createElement(s.Button,{style:{marginTop:"1rem"},width:s.ButtonProps.Width.medium,label:n.submit,onClick:function(){a.emit(u.MoveType.inputSeatNumber,{seatNumber:p},function(e){e||s.Toast.warn(n.invalidSeatNumber)})}}))},t}return a(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.playerState.actor,n=e.frameEmitter,r=e.game;n.emit(u.MoveType.initPosition),s.Request.get(u.namespace,u.FetchRoute.getUserMobile,{gameId:r.id},{token:t.token,actorType:t.type})},t.prototype.render=function(){var e=this,t=this.props.playerState.stage;return i.createElement("section",{className:l.play},function(){switch(t){case u.Stage.Seat:return e.renderSeatNumberStage();case u.Stage.Test:return i.createElement(p.default,o({},e.props));case u.Stage.Main:return i.createElement(m.default,o({},e.props));case u.Stage.Survey:return i.createElement(f.default,o({},e.props));case u.Stage.End:return e.renderEndStage()}}())},t}(c.Core.Play);t.Play=d},function(e,t,n){(t=e.exports=n(6)(!1)).push([e.i,"/*************** variables ******************/\n/*************** keyframe ******************/\n@keyframes easyIn_2oMm {\n  from {\n    opacity: 0;\n    transform: translateY(1rem); }\n  to {\n    opacity: 1;\n    transform: translateY(0); } }\n\n/*************** mixin ******************/\n/*************** function ******************/\n.play_Q-r6 {\n  width: calc(99vw - 2rem);\n  margin: 2rem auto 0; }\n  .play_Q-r6 .display_3H7R {\n    border-collapse: separate;\n    width: 100%;\n    max-width: 300px;\n    border: 1px solid;\n    margin: 1rem 0; }\n    .play_Q-r6 .display_3H7R td {\n      text-align: center; }\n    .play_Q-r6 .display_3H7R .data_1zyD {\n      color: red; }\n  .play_Q-r6 .choice_2LDn {\n    font-size: 16px;\n    min-width: 300px; }\n    .play_Q-r6 .choice_2LDn .disabled_lJPt {\n      pointer-events: none;\n      color: #b5b5b5; }\n    .play_Q-r6 .choice_2LDn .hidden_3CV8 {\n      display: none; }\n  .play_Q-r6 .instruction_3Kg9 {\n    font-size: 16px;\n    font-style: italic;\n    margin: 20px 0 10px 0;\n    color: #4285f4; }\n  .play_Q-r6 .blueWords_3Bc1 {\n    color: #4285f4; }\n  .play_Q-r6 .newLine_6yeF {\n    display: block; }\n  .play_Q-r6 .tipWrong_1o3l {\n    color: red; }\n    .play_Q-r6 .tipWrong_1o3l span {\n      color: red; }\n  .play_Q-r6 .resultLines_30D5 {\n    font-size: 16px; }\n    .play_Q-r6 .resultLines_30D5 > p {\n      margin-bottom: 5px; }\n  .play_Q-r6 .seatStage_2U-T {\n    display: flex;\n    flex-direction: column;\n    align-items: center; }\n  .play_Q-r6 .testStage_2Eib {\n    display: flex;\n    flex-direction: column;\n    align-items: center; }\n    .play_Q-r6 .testStage_2Eib .desc_-G7U {\n      margin-bottom: 20px; }\n    .play_Q-r6 .testStage_2Eib .testQuestion_2qO5 {\n      width: 80%;\n      min-width: 300px; }\n  .play_Q-r6 .endStage_Ip82 {\n    text-align: center; }\n    .play_Q-r6 .endStage_Ip82 p {\n      margin: 20px 0; }\n",""]),t.locals={play:"play_Q-r6",display:"display_3H7R",data:"data_1zyD",choice:"choice_2LDn",disabled:"disabled_lJPt",hidden:"hidden_3CV8",instruction:"instruction_3Kg9",blueWords:"blueWords_3Bc1",newLine:"newLine_6yeF",tipWrong:"tipWrong_1o3l",resultLines:"resultLines_30D5",seatStage:"seatStage_2U-T",testStage:"testStage_2Eib",desc:"desc_-G7U",testQuestion:"testQuestion_2qO5",endStage:"endStage_Ip82",easyIn:"easyIn_2oMm"}},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var l,s=n(0),c=n(4),u=n(1),p=n(3),m=n(2),f=n(8),d=n(9),h=n(10);!function(e){e[e.Correct=1]="Correct",e[e.Wrong=2]="Wrong"}(l||(l={}));var y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={c1:0,c2:[],answers:[],tips:[]},n.lang=u.Lang.extractLang({confirm:["确定","Confirm"],inputSeatNumberPls:["请输入座位号","Input your seat number please"],submit:["提交","Submit"],invalidSeatNumber:["座位号有误或已被占用","Your seat number is invalid or has been occupied"],instructionTitle:["本页面是为了帮助你熟悉操作界面。你可以尝试在界面上进行不同的选择。当你确定已经熟悉了操作界面之后，请点击最下方的“确定”按钮。",'This page aims to help you get familiar with the interface. You can try to make different choices. After you are familiar with the interface, please click the "Confirm" button below.'],instructionFirstT1:["每一轮中，你需要点击按钮做出选择:","You should make a choice in every round:"],instructionFirstT2:["首先，做出你在第一阶段的选择:","Now, make your choice for the first action:"],instructionSecondWait:["因为你在第一阶段已经等待，请针对第一阶段可能出现的两种结果，做出你第二阶段的选择:","Since you have chosen to wait in the first action, make your choice for the second action based on possible results of the previous action:"],instructionSecond1:["因为你在第一阶段已经选择了1，第二阶段不需要选择，请点击下面的“确定按钮”:",'Since you have chosen 1 in the first action, you do not need to make the choice for the second action, please click the "Confirm" button below:'],next:["选择完成后，点击“确定”进入下一轮:",'After making the choices, click "Confirm" button for the next round:'],wait4Others:["等待其他玩家完成测试","Waiting for others to complete the test"],wrong:["(错误)","(Wrong)"],nextToMain:["理解测试结束，下面进入正式实验",'The test is over, click "Confirm" button for the main game'],pageIndex:[function(e,t){return"第"+e+"/"+t+"页"},function(e,t){return"Page "+e+"/"+t}]}),n.submit=function(){var e=n,t=e.props,r=t.frameEmitter,a=t.playerState.stageIndex,o=e.state,i=o.answers,s=o.tips,c=n.Test[a];i.length===c.questions.length&&(i.includes(void 0)||s.some(function(e){return e!==l.Correct})||(r.emit(m.MoveType.answerTest),n.setState({answers:[],tips:[]})))},n.answer=function(e,t){var r=n,a=r.props,o=a.playerState.stageIndex,s=a.game.params.d,c=r.state,u=c.answers,p=c.tips,m=i(u);m[t]=e;var f=n.Test[o].questions[t].answer,d="function"==typeof f?f(s):f,h=i(p);h[t]=e===d?l.Correct:l.Wrong,n.setState({answers:m,tips:h})},n.calcDisplayData=function(){var e=n.props,t=e.playerState,r=t.groupIndex,a=t.roundIndex,o=e.gameState.groups,i=e.game.params,l=i.a,s=i.b,c=i.c,u=i.eL,p=i.eH,f=i.b0,d=i.b1,h=i.version,y=o[r];return h===m.Version.V3?y.probs[a]?{p11:l*u-f*u+c,p21:l*u-f*p+c,p22:l*p-f*p+c}:{p11:l*u-d*u+c,p21:l*u-d*p+c,p22:l*p-d*p+c}:{p11:l*u-s*u+c,p21:l*u-s*p+c,p22:l*p-s*p+c}},n.joinWords=function(e){return s.createElement(s.Fragment,null,e.map(function(e,t){var n=e.text,r=e.color,a=e.br,o="";return r&&(o=o?o+" "+c.blueWords:c.blueWords),void 0!==a&&(o=o?o+" "+c.newLine:c.newLine),s.createElement("span",{key:t,className:o,style:{marginTop:a+"px"}},n)}))},n.Test=t.game.params.gameType===m.GameType.T1?m.Test1:m.Test2,n}return a(t,e),t.prototype.render=function(){var e,t=this,n=this.lang,r=this.props,a=r.frameEmitter,o=r.playerState.stageIndex,i=r.game.params,p=i.gameType,y=i.version,v=i.d,b=this.state,g=b.c1,x=b.c2,_=b.answers,w=b.tips,E=this.calcDisplayData();if(o===m.TestStageIndex.Interface)switch(p){case m.GameType.T1:e=s.createElement(s.Fragment,null,s.createElement("p",{className:c.instruction},n.instructionTitle),s.createElement(f.default,{data:E}),s.createElement("p",{className:c.instruction},n.instructionFirstT1),s.createElement(d.default,{c1:g,d:v,version:y,gameType:p,onChoose:function(e){return t.setState({c1:e})}}),s.createElement("p",{className:c.instruction},n.next),s.createElement(u.Button,{width:u.ButtonProps.Width.small,label:n.confirm,onClick:function(){g&&(a.emit(m.MoveType.answerTest),t.setState({c1:0}))}}));break;case m.GameType.T2:e=s.createElement(s.Fragment,null,s.createElement("p",{className:c.instruction},n.instructionTitle),s.createElement(f.default,{data:E}),s.createElement("p",{className:c.instruction},n.instructionFirstT2),s.createElement(d.default,{c1:g,d:v,version:y,gameType:p,onChoose:function(e){return t.setState({c1:e,c2:[]})}}),g?g===m.Choice.Wait?s.createElement("p",{className:c.instruction},n.instructionSecondWait):s.createElement("p",{className:c.instruction},n.instructionSecond1):null,s.createElement(h.default,{c1:g,c2:x,d:v,version:y,gameType:p,onChoose:function(e){return t.setState({c2:e})}}),s.createElement("p",{className:c.instruction},n.next),s.createElement(u.Button,{width:u.ButtonProps.Width.small,label:n.confirm,onClick:function(){g&&2===x.length&&!x.includes(void 0)&&(a.emit(m.MoveType.answerTest),t.setState({c1:0}))}}))}else if(o===m.TestStageIndex.Next)e=s.createElement("div",null,s.createElement("p",null,n.nextToMain),s.createElement(u.Button,{width:u.ButtonProps.Width.small,style:{marginTop:"10px"},label:n.confirm,onClick:function(){a.emit(m.MoveType.toMain)}}));else if(o===m.TestStageIndex.Wait4Others)e=s.createElement("div",null,s.createElement(u.MaskLoading,{label:n.wait4Others}));else{var S=this.Test[o];e=s.createElement("div",{className:c.testQuestion},s.createElement("h3",null,n.pageIndex(o+1,this.Test.length)),s.createElement(f.default,{data:E}),s.createElement("p",{className:c.desc},this.joinWords(S.desc)),s.createElement("ul",null,S.questions.map(function(e,r){var a=e.title,o=e.options;return s.createElement("li",{key:r,style:{paddingBottom:"20px"}},s.createElement("p",{className:w[r]===l.Wrong?c.tipWrong:""},t.joinWords(a)," ",w[r]===l.Wrong?s.createElement("span",null,n.wrong):null),s.createElement(u.Radio,{options:"function"==typeof o?o(E,v):o,value:_[r]||"",onChange:function(e){return t.answer(e,r)}}))})),s.createElement(u.Button,{width:u.ButtonProps.Width.small,label:n.confirm,onClick:this.submit}))}return s.createElement("section",{className:c.testStage},e)},t}(p.Core.Play);t.default=y},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(4),l=n(1),s=n(3),c=n(2),u=n(8),p=n(9),m=n(10),f=function(e){function t(t){var n=e.call(this,t)||this;return n.initState=function(e){var t=e.playerState,n=t.groupIndex,r=t.choices[e.gameState.groups[n].roundIndex];return r?{c1:r.c1||0,c2:r.c2||[]}:{c1:0,c2:[]}},n.state={c1:0,c2:[]},n.lang=l.Lang.extractLang({confirm:["确定","Confirm"],inputSeatNumberPls:["请输入座位号","Input your seat number please"],submit:["提交","Submit"],invalidSeatNumber:["座位号有误或已被占用","Your seat number is invalid or has been occupied"],chooseInFirstAction:["在第一阶段选择","In the first action chose "],chooseInSecondActionLeft:["等待, 如果第一阶段有人选1, 则选","Wait, if someone has chosen 1 in the first action, choose "],chooseInSecondActionRight:["; 如果第一阶段没有人选1, 则选","; if on one has chosen 1 in the first action, choose "],yourFirstChoiceLeft:["你在第","Your choice in round "],yourFirstChoiceRight:["轮的选择为:"," is:"],lowestChocieLeft:["第","The lowest choice of the group in round "],lowestChocieRight:["轮的组内最低选择为:"," is:"],profitLeft:["你在第","Your profit in round "],profitRight:["轮的积分为:"," is:"],totalProfitLeft:["截止第","Until round "],totalProfitRight:["轮，你的积分为:"," your total profit is:"],inFirstAction:["在第一阶段中,","In the first action,"],chose1:["有人选1","someone has chosen 1"],notChose1:["没有人选1","no one has chosen 1"],yourSecondChoice:["你在第二阶段的选择为:","Your choice in the second action is:"],wait4Others2Choose:["等待其他玩家选择","Waiting for others to choose"],wait4Others2Next:["等待其他玩家进入下一轮","Waiting for others to enter the next round"],roundIndex:[function(e,t){return"第"+e+"/"+t+"轮"},function(e,t){return"Round "+e+"/"+t}]}),n.calcDisplayData=function(){var e=n.props,t=e.playerState,r=t.groupIndex,a=t.roundIndex,o=e.gameState.groups,i=e.game.params,l=i.a,s=i.b,u=i.c,p=i.eL,m=i.eH,f=i.b0,d=i.b1,h=i.version,y=o[r];return h===c.Version.V3?y.probs[a]?{p11:l*p-f*p+u,p21:l*p-f*m+u,p22:l*m-f*m+u}:{p11:l*p-d*p+u,p21:l*p-d*m+u,p22:l*m-d*m+u}:{p11:l*p-s*p+u,p21:l*p-s*m+u,p22:l*m-s*m+u}},n.renderChoice2=function(e,t){var r=n.lang;return e!==c.Choice.Wait?o.createElement("p",null,r.chooseInFirstAction,e):o.createElement("p",null,r.chooseInSecondActionLeft,t[0],r.chooseInSecondActionRight,t[1])},n.renderResult=function(){var e=n,t=e.lang,r=e.props,a=r.frameEmitter,i=r.playerState,s=i.groupIndex,u=i.roundIndex,p=i.choices,m=i.profits,f=i.finalProfit,d=r.gameState.groups,h=r.game.params.gameType,y=e.state,v=y.c1,b=y.c2,g=d[s],x=u,_=p[x];if(!_)return null;var w=m[x];switch(h){case c.GameType.T1:return o.createElement(o.Fragment,null,o.createElement("p",null,t.yourFirstChoiceLeft,x+1,t.yourFirstChoiceRight," ",_.c1),o.createElement("p",null,t.lowestChocieLeft,x+1,t.lowestChocieRight," ",g.mins[x]),o.createElement("p",null,t.profitLeft,x+1,t.profitRight," ",w.toFixed(2)),o.createElement("p",null,t.totalProfitLeft,x+1,t.totalProfitRight," ",f.toFixed(2)),o.createElement(l.Button,{width:l.ButtonProps.Width.small,label:t.confirm,onClick:function(){a.emit(c.MoveType.advanceRoundIndex,{nextRoundIndex:x+1}),n.setState({c1:0,c2:[]})}}));case c.GameType.T2:return o.createElement(o.Fragment,null,o.createElement("p",null,t.yourFirstChoiceLeft,x+1,t.yourFirstChoiceRight," "),n.renderChoice2(v,b),o.createElement("p",{style:{margin:"30px 0"}},t.inFirstAction," ",g.ones[x]?t.chose1:t.notChose1),_.c1!==c.Choice.One?o.createElement("p",null,t.yourSecondChoice," ",_.c):null,o.createElement("p",null,t.lowestChocieLeft,x+1,t.lowestChocieRight," ",g.mins[x]),o.createElement("p",null,t.profitLeft,x+1,t.profitRight," ",w.toFixed(2)),o.createElement("p",null,t.totalProfitLeft,x+1,t.totalProfitRight," ",f.toFixed(2)),o.createElement(l.Button,{width:l.ButtonProps.Width.small,label:t.confirm,onClick:function(){a.emit(c.MoveType.advanceRoundIndex,{nextRoundIndex:x+1}),n.setState({c1:0,c2:[]})}}))}},n.state=n.initState(t),n}return a(t,e),t.prototype.render=function(){var e,t=this,n=this.lang,r=this.props,a=r.frameEmitter,s=r.playerState,f=s.stageIndex,d=s.roundIndex,h=r.game.params,y=h.gameType,v=h.version,b=h.d,g=h.rounds,x=this.state,_=x.c1,w=x.c2,E=this.calcDisplayData();switch(f){case c.MainStageIndex.Choose:e=o.createElement("div",null,o.createElement(u.default,{data:E}),o.createElement(p.default,{c1:_,d:b,version:v,gameType:y,onChoose:function(e){return t.setState({c1:e,c2:[]})}}),o.createElement(m.default,{c1:_,c2:w,d:b,version:v,gameType:y,onChoose:function(e){return t.setState({c2:e})}}),y===c.GameType.T1?o.createElement(l.Button,{width:l.ButtonProps.Width.small,label:n.confirm,onClick:function(){_&&a.emit(c.MoveType.answerMain,{c1:_},function(e){e&&l.Toast.warn(e)})}}):_?o.createElement(l.Button,{width:l.ButtonProps.Width.small,label:n.confirm,onClick:function(){_&&2===w.length&&!w.includes(void 0)&&a.emit(c.MoveType.answerMain,{c1:_,c2:w},function(e){e&&l.Toast.warn(e)})}}):null);break;case c.MainStageIndex.Wait4Result:e=o.createElement("div",null,o.createElement(u.default,{data:E}),o.createElement(l.MaskLoading,{label:n.wait4Others2Choose}));break;case c.MainStageIndex.Result:e=o.createElement("div",null,o.createElement(u.default,{data:E}),o.createElement("div",{className:i.resultLines},this.renderResult()))}return o.createElement("section",null,o.createElement("p",null,n.roundIndex(d+1,g)),e)},t}(s.Core.Play);t.default=f},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),s=n(1),c=n(3),u=n(2),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={answers:[]},t.lang=s.Lang.extractLang({confirm:["确定","Confirm"],inputSeatNumberPls:["请输入座位号","Input your seat number please"],submit:["提交","Submit"],invalidSeatNumber:["座位号有误或已被占用","Your seat number is invalid or has been occupied"],wait4StartMainTest:["等待老师开放实验","Wait for teacher to start the experiment"]}),t.submit=function(){var e=t,n=e.props.frameEmitter,r=e.state.answers;r.length===u.Survey.length&&(r.includes(void 0)||n.emit(u.MoveType.answerSurvey,{surveys:r}))},t.answer=function(e,n){var r=t.state.answers,a=i(r);a[n]=e,t.setState({answers:a})},t}return a(t,e),t.prototype.render=function(){var e=this,t=this.lang,n=this.state.answers;return l.createElement("section",null,l.createElement("ul",null,u.Survey.map(function(t,r){return t.options?l.createElement("li",{key:r},l.createElement("p",null,r+1,". ",t.title),t.options.length>10?l.createElement(s.Select,{value:n[r]||"",placeholder:"please choose",style:{width:"150px",margin:"10px"},options:t.options,onChange:function(t){return e.answer(t,r)}}):l.createElement(s.RadioGroup,{options:t.options,value:n[r]||"",onChange:function(t){return e.answer(t,r)}})):l.createElement("li",{key:r},l.createElement("p",null,r+1,". ",t.title),l.createElement(s.Input,{value:n[r]||"",onChange:function(t){var n=t.target.value;return e.answer(n,r)}}))})),l.createElement(s.Button,{width:s.ButtonProps.Width.small,label:t.confirm,onClick:this.submit}))},t}(c.Core.Play);t.default=p},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(5),l=n(3),s=n(1),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lang=s.Lang.extractLang({totalPoint:["你在本场试验共获得积分 ","Total points you have got in this game are "],totalProfit:["你的最终收益为 ","Total profit you have earned in this game is "]}),t.state={},t}return a(t,e),t.prototype.render=function(){var e=this.lang,t=this.props,n=t.game.params,r=n.s,a=n.participationFee,l=t.playerState.finalProfit;return o.createElement("section",{className:i.result},o.createElement("p",null,e.totalPoint,isNaN(l)?"-":l.toFixed(2)),o.createElement("p",null,e.totalProfit,isNaN(l*r+a)?"-":(l*r+a).toFixed(2)))},t}(l.Core.Result);t.Result=c},function(e,t,n){"use strict";var r,a=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function i(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,l)}s((r=r.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),c=n(5),u=n(3),p=n(1),m=n(2),f=n(11),d=function(e){function t(){var t,n=null!==e&&e.apply(this,arguments)||this;return n.state={activeTabIndex:0,activeMoveSeq:0,userId:"",money:0},n.lang=p.Lang.extractLang(((t={confirm:["确定","Confirm"],result:["游戏结果","Game Result"],seatNumber:["玩家座位号","Player Seat Number"],point:["最终收益","Profit"],award:["奖励","Award"],timeLine:["时间线","TimeLine"],timeTravel:["过程回溯","Time Travel"],export:["导出","Export"],unknown:["???","???"]})[m.SheetType[m.SheetType.result]]=["结果","Result"],t)),n.postReward=function(e,t){return i(n,void 0,void 0,function(){var n,r,a;return l(this,function(i){switch(i.label){case 0:return"/v5/apiv5/org/researcher/trans/reward",n={money:t,payeeId:e},r={credentials:"include",method:"post",headers:{"Content-Type":"application/json; charset=utf-8"},cache:"default",body:JSON.stringify(o({},n,{_csrf:(l="_csrf",decodeURIComponent(document.cookie).split("; ").find(function(e){return e.startsWith(l+"=")}).substring(l.length+1))}))},[4,fetch("/v5/apiv5/org/researcher/trans/reward",r)];case 1:return(a=i.sent()).ok?[2,a.json()]:[2]}var l})})},n}return a(t,e),t.prototype.render=function(){var e=this,t=this.lang,n=this.props,r=n.game,a=n.travelStates,i=this.state,l=i.activeMoveSeq,u=i.activeTabIndex,d=a[l],h=r.params,y=h.s,v=h.participationFee;return s.createElement("section",{className:c.result4Owner},s.createElement(p.Tabs,o({},{activeTabIndex:u,labels:[t.result,t.timeTravel,t.award],switchTab:function(t){return e.setState({activeTabIndex:t})}}),s.createElement("div",{className:c.resultWrapper},s.createElement("table",{className:c.resultTable},s.createElement("tbody",null,s.createElement("tr",null,s.createElement("td",null,t.seatNumber),s.createElement("td",null,t.point)),Object.values(a[a.length-1].playerStates).sort(function(e,t){return Number(e.seatNumber)-Number(t.seatNumber)}).map(function(e,n){var r=e.seatNumber,a=e.finalProfit;return s.createElement("tr",{key:n},s.createElement("td",null,void 0===r?t.unknown:r),s.createElement("td",null,isNaN(a*y+v)?"-":(a*y+v).toFixed(2)))}))),s.createElement("div",{className:c.exportWrapper},s.createElement("label",null,t.export),s.createElement("div",null,Object.values(m.SheetType).map(function(e){return s.createElement("a",{key:e,href:p.Request.buildUrl(m.namespace,m.FetchRoute.exportXls,{gameId:r.id},{sheetType:e})},t[m.SheetType[e]])})))),s.createElement("div",{className:c.timeTravelWrapper},s.createElement("div",{className:c.timeLine},s.createElement("label",null,t.timeLine),s.createElement(p.RangeInput,o({},{min:1,max:a.length-1,value:l,onChange:function(t){var n=t.target.value;return e.setState({activeMoveSeq:n})}}))),s.createElement("div",null,d.gameState?s.createElement(f.Play4Owner,o({},o({game:r},d))):null))))},t}(u.Core.Result4Owner);t.Result4Owner=d}]);